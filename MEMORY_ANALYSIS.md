# –ê–Ω–∞–ª–∏–∑ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Å 1 –ì–ë RAM

## –û—Ç–≤–µ—Ç: –î–∞, 1 –ì–ë –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ! ‚úÖ

### –û—Ü–µ–Ω–∫–∞ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:

#### –ë–∞–∑–æ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ:
- **Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä**: ~30-50 –ú–ë
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ (aiogram, pandas, numpy, httpx)**: ~100-150 –ú–ë
- **SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: ~50-100 –ö–ë (–æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∞—è)
- **–†–µ–∑–µ—Ä–≤ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã**: ~200-300 –ú–ë

**–ò—Ç–æ–≥–æ –±–∞–∑–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: ~350-500 –ú–ë**

#### –ö—ç—à –≤ –ø–∞–º—è—Ç–∏ (–ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏):
- **–¢–µ–∫—É—â–∏–µ —Ñ–∞–π–ª—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è**: ~0.2 –ú–ë (5 —Ñ–∞–π–ª–æ–≤ √ó ~40 –ö–ë)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞**: 50 –ú–ë (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- **TTL –∫—ç—à–∞**: 60 –º–∏–Ω—É—Ç (–±—ã–ª–æ 120)

**–ò—Ç–æ–≥–æ —Å –∫—ç—à–µ–º: ~400-550 –ú–ë**

#### –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ Excel —Ñ–∞–π–ª–∞** (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ):
  - pandas –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ: 3-5√ó —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
  - –î–ª—è —Ñ–∞–π–ª–∞ 200 –ö–ë: ~600 –ö–ë - 1 –ú–ë –≤—Ä–µ–º–µ–Ω–Ω–æ
- **–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**: +100-200 –ú–ë

**–ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: ~600-750 –ú–ë**

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã:

### 1. ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫—ç—à–∞ –≤ –ø–∞–º—è—Ç–∏
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 50 –ú–ë (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- LRU (Least Recently Used) –∞–ª–≥–æ—Ä–∏—Ç–º

### 2. ‚úÖ –£–º–µ–Ω—å—à–µ–Ω TTL –∫—ç—à–∞
- –ë—ã–ª–æ: 120 –º–∏–Ω—É—Ç (2 —á–∞—Å–∞)
- –°—Ç–∞–ª–æ: 60 –º–∏–Ω—É—Ç (1 —á–∞—Å)
- –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏: ~50%

### 3. ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫—ç—à–∞
- –¢–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –ø–∞–º—è—Ç–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –∏–∑ –∫—ç—à–∞
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Å 1 –ì–ë RAM:

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞ (–≤ `schedule_bot/services/deps.py`):

```python
# –î–ª—è —Å–µ—Ä–≤–µ—Ä–∞ —Å 1 –ì–ë RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
cache = ScheduleCache(
    ttl_minutes=60,           # 60 –º–∏–Ω—É—Ç TTL
    storage_dir=BASE_DIR / "schedule_data",
    max_cache_size_mb=50.0,   # 50 –ú–ë –º–∞–∫—Å–∏–º—É–º
)

# –î–ª—è –æ—á–µ–Ω—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ (512 –ú–ë - 1 –ì–ë)
cache = ScheduleCache(
    ttl_minutes=30,           # 30 –º–∏–Ω—É—Ç TTL
    storage_dir=BASE_DIR / "schedule_data",
    max_cache_size_mb=30.0,   # 30 –ú–ë –º–∞–∫—Å–∏–º—É–º
)

# –î–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã (1 –ì–ë+)
cache = ScheduleCache(
    ttl_minutes=60,           # 60 –º–∏–Ω—É—Ç TTL
    storage_dir=BASE_DIR / "schedule_data",
    max_cache_size_mb=50.0,   # 50 –ú–ë –º–∞–∫—Å–∏–º—É–º (—Ç–µ–∫—É—â–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
)
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

1. **–£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞ –¥–æ 20-30 –ú–ë**:
   ```python
   max_cache_size_mb=25.0,  # 25 –ú–ë –≤–º–µ—Å—Ç–æ 50 –ú–ë
   ```

2. **–£–º–µ–Ω—å—à–∏—Ç—å TTL –¥–æ 30 –º–∏–Ω—É—Ç**:
   ```python
   ttl_minutes=30,  # 30 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 60
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å swap —Ñ–∞–π–ª** (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ):
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞—Ç—å swap —Ñ–∞–π–ª
   sudo fallocate -l 512M /swapfile
   sudo chmod 600 /swapfile
   sudo mkswap /swapfile
   sudo swapon /swapfile
   ```

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏**:
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   pip install psutil
   
   # –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–¥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
   ```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –±–æ—Ç–∞
ps aux | grep python | grep bot

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å htop/top
htop

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–¥ –±–æ—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏:

```python
import psutil
import os

process = psutil.Process(os.getpid())
memory_mb = process.memory_info().rss / 1024 / 1024
logger.info(f"Memory usage: {memory_mb:.2f} MB")
```

## –í—ã–≤–æ–¥:

‚úÖ **1 –ì–ë RAM –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞**

- –ë–∞–∑–æ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: ~400-550 –ú–ë
- –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: ~600-750 –ú–ë
- –û—Å—Ç–∞–µ—Ç—Å—è –∑–∞–ø–∞—Å: ~250-400 –ú–ë –¥–ª—è —Å–∏—Å—Ç–µ–º—ã
- –° –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏: –∫—ç—à –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 50 –ú–ë, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

### –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. –£–º–µ–Ω—å—à–∏—Ç–µ `max_cache_size_mb` –¥–æ 20-30 –ú–ë
2. –£–º–µ–Ω—å—à–∏—Ç–µ `ttl_minutes` –¥–æ 30 –º–∏–Ω—É—Ç
3. –î–æ–±–∞–≤—å—Ç–µ swap —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–∏–º–∏—Ç—ã

## –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã –¥–ª—è 1 –ì–ë RAM):

- ‚úÖ TTL: 60 –º–∏–Ω—É—Ç
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞: 50 –ú–ë
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫–µ (—Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫–µ –¥–∞–∂–µ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –ø–∞–º—è—Ç–∏)

**–ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å 1 –ì–ë RAM!** üöÄ

